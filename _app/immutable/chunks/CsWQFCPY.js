import{ag as E,ah as T,a as A,a7 as R,ai as q,i as x,aj as P,a0 as W,ak as N,al as Y,am as M,an as j,ao as B,ap as L,R as w,Q as D,L as $,Z as p,aq as F,ar as K,as as Q,at as Z,au as z,av as G,S as J,T as U,K as S,C as X,c as tt,aw as at,F as et}from"./C5dkKTTq.js";const rt=["touchstart","touchmove"];function nt(t){return rt.includes(t)}function st(t){var a=A,r=R;E(null),T(null);try{return t()}finally{E(a),T(r)}}const C=new Set,m=new Set;function it(t,a,r,o={}){function s(e){if(o.capture||g.call(a,e),!e.cancelBubble)return st(()=>r?.call(this,e))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?W(()=>{a.addEventListener(t,s,o)}):a.addEventListener(t,s,o),s}function lt(t,a,r,o,s){var e={capture:o,passive:s},u=it(t,a,r,e);(a===document.body||a===window||a===document||a instanceof HTMLMediaElement)&&P(()=>{a.removeEventListener(t,u,e)})}function ft(t){for(var a=0;a<t.length;a++)C.add(t[a]);for(var r of m)r(t)}let k=null;function g(t){var a=this,r=a.ownerDocument,o=t.type,s=t.composedPath?.()||[],e=s[0]||t.target;k=t;var u=0,d=k===t&&t.__root;if(d){var f=s.indexOf(d);if(f!==-1&&(a===document||a===window)){t.__root=a;return}var _=s.indexOf(a);if(_===-1)return;f<=_&&(u=f)}if(e=s[u]||t.target,e!==a){q(t,"currentTarget",{configurable:!0,get(){return e||r}});var b=A,l=R;E(null),T(null);try{for(var n,i=[];e!==null;){var h=e.assignedSlot||e.parentNode||e.host||null;try{var c=e["__"+o];if(c!=null&&(!e.disabled||t.target===e))if(x(c)){var[I,...V]=c;I.apply(e,[t,...V])}else c.call(e,t)}catch(y){n?i.push(y):n=y}if(t.cancelBubble||h===a||h===null)break;e=h}if(n){for(let y of i)queueMicrotask(()=>{throw y});throw n}}finally{t.__root=a,delete t.currentTarget,E(b),T(l)}}}function ct(t,a){var r=a==null?"":typeof a=="object"?a+"":a;r!==(t.__t??=t.nodeValue)&&(t.__t=r,t.nodeValue=r+"")}function ot(t,a){return H(t,a)}function dt(t,a){N(),a.intro=a.intro??!1;const r=a.target,o=S,s=p;try{for(var e=Y(r);e&&(e.nodeType!==M||e.data!==j);)e=B(e);if(!e)throw L;w(!0),D(e),$();const u=H(t,{...a,anchor:e});if(p===null||p.nodeType!==M||p.data!==F)throw K(),L;return w(!1),u}catch(u){if(u===L)return a.recover===!1&&Q(),N(),Z(r),w(!1),ot(t,a);throw u}finally{w(o),D(s)}}const v=new Map;function H(t,{target:a,anchor:r,props:o={},events:s,context:e,intro:u=!0}){N();var d=new Set,f=l=>{for(var n=0;n<l.length;n++){var i=l[n];if(!d.has(i)){d.add(i);var h=nt(i);a.addEventListener(i,g,{passive:h});var c=v.get(i);c===void 0?(document.addEventListener(i,g,{passive:h}),v.set(i,1)):v.set(i,c+1)}}};f(z(C)),m.add(f);var _=void 0,b=G(()=>{var l=r??a.appendChild(J());return U(()=>{if(e){X({});var n=tt;n.c=e}s&&(o.$$events=s),S&&at(l,null),_=t(l,o)||{},S&&(R.nodes_end=p),e&&et()}),()=>{for(var n of d){a.removeEventListener(n,g);var i=v.get(n);--i===0?(document.removeEventListener(n,g),v.delete(n)):v.set(n,i)}m.delete(f),l!==r&&l.parentNode?.removeChild(l)}});return O.set(_,b),_}let O=new WeakMap;function _t(t,a){const r=O.get(t);return r?(O.delete(t),r(a)):Promise.resolve()}export{ft as d,lt as e,dt as h,ot as m,ct as s,_t as u};
